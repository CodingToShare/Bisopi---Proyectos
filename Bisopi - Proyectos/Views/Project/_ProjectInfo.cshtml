@model Project

@Html.HiddenFor(x => x.ProjectID, new { @class = "ProjectID" })

<div class="border border-secondary rounded px-3 pt-3">
    <dl class="row">
        <dt class="col-sm-2">Proyecto</dt>
        <dd class="col-sm-10">@Model.ProjectName</dd>
        <dt class="col-sm-2">Cliente</dt>
        <dd class="col-sm-4">@Model.Client.ClientName</dd>
        <dt class="col-sm-2">Responsable Cliente</dt>
        <dd class="col-sm-4">@Model.CustomerManager</dd>
        <dt class="col-sm-2">Fecha Inicio</dt>
        <dd class="col-sm-4">@Model.StartDate</dd>
        <dt class="col-sm-2">Fecha Entrega</dt>
        <dd class="col-sm-4">@Model.EstimatedDeliveryDate</dd>
        <dt class="col-sm-2">Líder</dt>
        <dd class="col-sm-4">@Model.LeaderName</dd>
        <dt class="col-sm-2">Gerente</dt>
        <dd class="col-sm-4">@Model.ProjectManagerName</dd>
        <dt class="col-sm-2">País</dt>
        <dd class="col-sm-4">@Model.Country.CountryName</dd>
        <dt class="col-sm-2">Estado Proyecto</dt>
        <dd class="col-sm-4">@Model.ProjectStatus.ProjectStatusName</dd>
        <dt class="col-sm-2">Tipo Proyecto</dt>
        <dd class="col-sm-4">@Model.ProjectType.ProjectTypeName</dd>
        <dt class="col-sm-2">Horas Estimadas</dt>
        <dd class="col-sm-4">@Model.EstimatedHours</dd>
        <dt class="col-sm-2">Moneda</dt>
        <dd class="col-sm-1">@Model.Currency.Abbreviation</dd>
        <dt class="col-sm-2">Valor Proyecto</dt>
        <dd class="col-sm-1">@Model.ProjectValue</dd>
        <dt class="col-sm-2">Costo Proyecto</dt>
        <dd class="col-sm-1">@Model.ProjectCost</dd>
        <dt class="col-sm-2">TRM Proyecto</dt>
        <dd class="col-sm-1">@Model.TRMProject</dd>
        <dt class="col-sm-12">
        </dt>
    </dl>
    <div class="col-md-12">
        <div class="form-group">
            <a class="btn btn-outline-secondary p-1" onclick="redirectToEdit()">
                <img src="~/img/edit.png" style="width:24px" title="Editar" />
            </a>
            <a class="btn btn-outline-secondary p-1">
                <img src="~/img/schedule.png" style="width:24px" title="Programaci�n" />
            </a>
            <a class="btn btn-outline-secondary p-1" onclick="redirectToMilestone()">
                <img src="~/img/hito.png" style="width:24px" title="Hitos" />
            </a>
            <a class="btn btn-outline-secondary p-1">
                <img src="~/img/recursos.png" style="width:24px" title="Uso Recursos" />
            </a>
            <a class="btn btn-outline-secondary p-1" onclick="redirectToTask()">
                <img src="~/img/task.png" style="width:24px" title="Listado de Tareas" />
            </a>
            <a class="btn btn-outline-secondary p-1" onclick="redirectToCommitment()">
                <img src="~/img/compromise.png" style="width:24px" title="Compromisos" />
            </a>
            <a class='btn btn-outline-secondary p-1' onclick="confirmDelete()">
                <img src="~/img/trash.png" style="width:24px" title="Eliminar" />
            </a>
        </div>
    </div>
</div>

<script>
    function redirectToEdit() {
        var projectId = document.getElementsByClassName("ProjectID")[0].value; // Obtén el valor del ProjectID desde el elemento HiddenFor
        var url = '/project/edit/' + projectId; // Construye la URL con el ProjectID
        window.location.href = url; // Redirecciona a la vista project/edit con el ProjectID en la URL
    }

    function redirectToMilestone() {
        var projectId = document.getElementsByClassName("ProjectID")[0].value; // Obtén el valor del ProjectID desde el elemento HiddenFor
        var url = '/project/milestone/' + projectId; // Construye la URL con el ProjectID
        window.location.href = url; // Redirecciona a la vista project/edit con el ProjectID en la URL
    }

    function redirectToTask() {
        var projectId = document.getElementsByClassName("ProjectID")[0].value; // Obtén el valor del ProjectID desde el elemento HiddenFor
        var url = '/project/task/' + projectId; // Construye la URL con el ProjectID
        window.location.href = url; // Redirecciona a la vista project/edit con el ProjectID en la URL
    }

    function redirectToCommitment() {
        var projectId = document.getElementsByClassName("ProjectID")[0].value; // Obtén el valor del ProjectID desde el elemento HiddenFor
        var url = '/project/Commitment/' + projectId; // Construye la URL con el ProjectID
        window.location.href = url; // Redirecciona a la vista project/edit con el ProjectID en la URL
    }

    function confirmDelete() {
        var projectId = document.getElementsByClassName("ProjectID")[0].value; // Obtén el valor del ProjectID desde el elemento HiddenFor

        DevExpress.ui.dialog.confirm("¿Estás seguro de que deseas eliminar este proyecto?", "Confirmar eliminación").done(function (dialogResult) {
            if (dialogResult) {
                // Si el usuario selecciona "Aceptar", redirecciona a la vista project/delete con el ProjectID en la URL
                var url = '/project/delete/' + projectId;
                window.location.href = url;
            } else {
                // Si el usuario selecciona "Cancelar", no se hace nada
            }
        });
    }
</script>